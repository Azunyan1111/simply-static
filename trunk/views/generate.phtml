<?php
/**
 * @package Simply_Static
 */
?>

<h2><?php _e( 'Simply Static', $this->slug ); ?></h2>

<div class="wrap">

	<?php if ( is_array( $this->export_log ) && count( $this->export_log ) ): ?>
		<h3><?php _e( 'Export Log', $this->slug ); ?></h3>
		<div class="export-log">
			<table class="widefat">
				<thead>
					<tr>
						<th>Code</th>
						<th>URL</th>
						<th>Found on</th>
					</tr>
				</thead>
				<tbody>

				<?php foreach ( $this->export_log as $url => $data ) : ?>
					<tr>
						<td><?php echo $data['code']; ?></td>
						<td><?php echo $url; ?></td>
						<td><?php echo $data['source_url']; ?></td>
					</tr>
				<?php endforeach; ?>
				</tbody>
			</table>
		</div>
	<?php endif ?>

	<form id="generate" method="post" action="">

		<?php if ( $this->system_requirements_check_failed ) : ?>
			<p><?php _e( "Uh oh, we've found an issue that prevents us from creating a static copy of your site.", $this->slug ); ?></p>
		<?php else : ?>
			<p><?php _e( "Press the button below to create a static copy of your site.", $this->slug ); ?></p>
			<p><?php _e( "Note: on large sites this process may take a while.", $this->slug ); ?></p>
		<?php endif; ?>

		<p class="submit">
			<?php wp_nonce_field( $this->slug ) ?>
			<input class="button button-primary button-hero" type="submit" name="generate" value="Generate Static Files" <?php if ( $this->system_requirements_check_failed ) { echo 'disabled=disabled'; } ?> />
		</p>

	</form>

</div>
