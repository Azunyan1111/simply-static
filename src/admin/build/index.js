(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.element,n=window.wp.apiFetch;var a=e.n(n);const{__}=wp.i18n,l=(0,t.createContext)(),s=function(e){const n={},[s,i]=(0,t.useState)(!1),[r,c]=(0,t.useState)(n),[m,o]=(0,t.useState)({});return(0,t.useEffect)((()=>{a()({path:"/simplystatic/v1/settings"}).then((e=>{c(e)})),a()({path:"/simplystatic/v1/system-status"}).then((e=>{o(e)}))}),[]),(0,t.createElement)(l.Provider,{value:{settings:r,configs:m,settingsSaved:s,setSettingsSaved:i,updateSetting:(e,t)=>{c({...r,[e]:t})},setSettings:c,saveSettings:()=>{a()({path:"/simplystatic/v1/settings",method:"POST",data:r})},resetSettings:()=>{c(n),a()({path:"/simplystatic/v1/settings",method:"POST",data:n})},importSettings:e=>{c(e),a()({path:"/simplystatic/v1/settings",method:"POST",data:e})}}},e.children)},i=window.wp.components,{__:r}=wp.i18n,c=function(){const{settings:e,updateSetting:n,saveSettings:a,settingsSaved:s,setSettingsSaved:c}=(0,t.useContext)(l);return(0,t.useEffect)((()=>{}),[e]),(0,t.createElement)("div",{className:"inner-settings"},(0,t.createElement)(i.Card,null,(0,t.createElement)(i.CardHeader,null,r("Some Card","simply-static")),(0,t.createElement)(i.CardBody,null,(0,t.createElement)("p",null,r("Something cool to configure!","simply-static")),(0,t.createElement)(i.TextControl,{label:r("Headline","simply-static"),help:r("Mindblowing.","simply-static"),value:e.headline,onChange:e=>{n("headline",e)}}))),(0,t.createElement)(i.__experimentalSpacer,{margin:5}),s&&(0,t.createElement)(i.Animate,{type:"slide-in",options:{origin:"top"}},(()=>(0,t.createElement)(i.Notice,{status:"success",isDismissible:!1},(0,t.createElement)("p",null,r("Settings saved successfully.","simply-static"))))),(0,t.createElement)("div",{className:"save-settings"},(0,t.createElement)(i.Button,{onClick:()=>{a(),c(!0),setTimeout((function(){c(!1)}),2e3)},variant:"primary"},r("Save Settings","simply-static"))))},m=function(){const{configs:e}=(0,t.useContext)(l);return(0,t.createElement)("div",{className:"inner-settings"},(0,t.createElement)("div",null,Object.keys(e).map((n=>{const a=e[n];return(0,t.createElement)("div",{key:n},(0,t.createElement)(i.Card,null,(0,t.createElement)(i.CardHeader,null,(0,t.createElement)("b",null,n)),(0,t.createElement)(i.CardBody,null,(0,t.createElement)("div",{style:{maxWidth:"300px"}},(0,t.createElement)("table",null,(0,t.createElement)("tbody",{className:"table-data"},Object.entries(a).map((e=>"boolean"==typeof e[1]?(0,t.createElement)("tr",{className:"table-row",key:e[0]},(0,t.createElement)("td",null,(0,t.createElement)("b",null,e[0])),(0,t.createElement)("td",null," ",e[1]?(0,t.createElement)(i.Dashicon,{className:"icon-yes",icon:"yes"}):(0,t.createElement)(i.Dashicon,{className:"icon-no",icon:"no"})," ")):(0,t.createElement)("tr",{className:"table-row",key:e[0]},(0,t.createElement)("td",null,(0,t.createElement)("b",null,e[0])),(0,t.createElement)("td",null," ",e[1]," "))))))))),(0,t.createElement)(i.__experimentalSpacer,{margin:5}))}))))},{__:o}=wp.i18n,u=function(){const{settings:e,importSettings:n,resetSettings:a}=(0,t.useContext)(l),[s,r]=(0,t.useState)(!1),[c,m]=(0,t.useState)(!1),[u,p]=(0,t.useState)(!1),[E,d]=(0,t.useState)(!1),[g,y]=(0,t.useState)(!1);return(0,t.createElement)("div",{className:"inner-settings"},(0,t.createElement)(i.Card,null,(0,t.createElement)(i.CardHeader,null,(0,t.createElement)("b",null,o("Export","simply-static"))),(0,t.createElement)(i.CardBody,null,s?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("p",null,(0,t.createElement)("code",null,JSON.stringify(e))),(0,t.createElement)("p",null,(0,t.createElement)(i.ClipboardButton,{variant:"secondary",text:JSON.stringify(e),onCopy:()=>d(!0),onFinishCopy:()=>d(!1)},o(E?"Copied!":"Copy export data","simply-static")))):(0,t.createElement)("p",null,(0,t.createElement)(i.Button,{onClick:r,variant:"primary"},o("Export Settings","simply-static"))))),(0,t.createElement)(i.__experimentalSpacer,{margin:5}),(0,t.createElement)(i.Card,null,(0,t.createElement)(i.CardHeader,null,(0,t.createElement)("b",null,o("Import","simply-static"))),(0,t.createElement)(i.CardBody,null,(0,t.createElement)("p",null,o("Paste in the JSON string you got from your export to import all settings for the plugin.","simply-static")),(0,t.createElement)("p",null,(0,t.createElement)("textarea",{rows:"8",cols:"60",name:"import-data",onChange:e=>{y(JSON.parse(e.target.value))}})),(0,t.createElement)("p",null,(0,t.createElement)(i.Button,{onClick:()=>{n(g),m(!0),setTimeout((function(){m(!1)}),2e3)},variant:"primary"},o("Import Settings","simply-static"))),c?(0,t.createElement)(i.Animate,{type:"slide-in",options:{origin:"top"}},(()=>(0,t.createElement)(i.Notice,{status:"success",isDismissible:!1},(0,t.createElement)("p",null,o("Settings imported successfully.","simply-static"))))):"")),(0,t.createElement)(i.__experimentalSpacer,{margin:5}),(0,t.createElement)(i.Card,null,(0,t.createElement)(i.CardHeader,null,(0,t.createElement)("b",null,o("Reset Plugin Data","simply-static"))),(0,t.createElement)(i.CardBody,null,(0,t.createElement)("p",null,o("By clicking the following button, you will reset all plugin settings. This can be useful if you want to import a new set of settings or you want a fresh start.","simply-static")),(0,t.createElement)("p",null,(0,t.createElement)(i.Button,{onClick:()=>{a(),p(!0),setTimeout((function(){p(!1)}),2e3)},variant:"secondary"},o("Reset Plugin Settings","simply-static"))),u?(0,t.createElement)(i.Animate,{type:"slide-in",options:{origin:"top"}},(()=>(0,t.createElement)(i.Notice,{status:"success",isDismissible:!1},(0,t.createElement)("p",null,o("Settings resetted successfully.","simply-static"))))):"")))},{__:p}=wp.i18n,E=function(){const[e,n]=(0,t.useState)({activeItem:"/"}),[a,s]=(0,t.useState)(!1),{saveSettings:r,setSettingsSaved:o}=(0,t.useContext)(l);return(0,t.useEffect)((()=>{a||(n("/"),s(!0))})),(0,t.createElement)("div",{className:"plugin-settings-container"},(0,t.createElement)(i.__experimentalNavigatorProvider,{initialPath:"/"},(0,t.createElement)(i.Flex,null,(0,t.createElement)(i.FlexItem,null,(0,t.createElement)(i.Card,{className:"plugin-nav"},(0,t.createElement)("div",{className:"plugin-logo"},(0,t.createElement)("img",{alt:"Logo",src:options.logo})),(0,t.createElement)("p",null,"Version: ",(0,t.createElement)("b",null,options.version)),(0,t.createElement)("div",{className:"save-settings"},(0,t.createElement)(i.Button,{onClick:()=>{r(),o(!0),setTimeout((function(){o(!1)}),2e3)},variant:"primary"},p("Save Settings","content-protector"))),(0,t.createElement)(i.CardBody,null,(0,t.createElement)(i.__experimentalNavigatorButton,{onClick:()=>n("/"),className:"/"===e?"is-active-item":"",path:"/"},p("General","content-protector"))),(0,t.createElement)(i.CardDivider,null),(0,t.createElement)(i.CardBody,null,(0,t.createElement)(i.__experimentalNavigatorButton,{onClick:()=>n("/system-status"),className:"/system-status"===e?"is-active-item":"",path:"/system-status"},p("System Status","content-protector")),(0,t.createElement)(i.__experimentalNavigatorButton,{onClick:()=>n("/utilities"),className:"/utilities"===e?"is-active-item":"",path:"/utilities"},p("Utilities","content-protector"))),(0,t.createElement)(i.CardDivider,null),(0,t.createElement)(i.CardBody,null,(0,t.createElement)(i.Button,{href:"https://simplystatic.com/docs/",target:"_blank"},p("Documentation","content-protector")," ",(0,t.createElement)("small",null,(0,t.createElement)(i.Dashicon,{icon:"admin-links"}))),(0,t.createElement)(i.Button,{href:"https://simplystatic.com/changelogs/",target:"_blank"},p("Changelog","content-protector")," ",(0,t.createElement)("small",null,(0,t.createElement)(i.Dashicon,{icon:"admin-links"}))),!options.is_pro&&(0,t.createElement)(i.Button,{href:"https://simplystatic.com/simply-static-pro/",target:"_blank",style:{color:"#6804cc"}},p("Simply Static Pro","content-protector")," ",(0,t.createElement)("small",null,(0,t.createElement)(i.Dashicon,{icon:"admin-links"})))))),"/"===e&&(0,t.createElement)(i.FlexItem,{isBlock:!0},(0,t.createElement)(i.__experimentalNavigatorScreen,{path:"/"},(0,t.createElement)("div",{className:"plugin-settings"},(0,t.createElement)(c,null)))),"/system-status"===e&&(0,t.createElement)(i.FlexItem,{isBlock:!0},(0,t.createElement)(i.__experimentalNavigatorScreen,{path:"/system-status"},(0,t.createElement)("div",{className:"plugin-settings"},(0,t.createElement)(m,null)))),"/utilities"===e&&(0,t.createElement)(i.FlexItem,{isBlock:!0},(0,t.createElement)(i.__experimentalNavigatorScreen,{path:"/utilities"},(0,t.createElement)("div",{className:"plugin-settings"},(0,t.createElement)(u,null)))))))},d=function(){return(0,t.createElement)(s,null,(0,t.createElement)("div",null,(0,t.createElement)(E,null)))};"simplystatic-settings"===options.screen&&(0,t.createRoot)(document.getElementById("simplystatic-settings")).render((0,t.createElement)(d,null))})();